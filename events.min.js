~function(t){function n(t,n){if(!t)throw new Error("Event name is required");return function(e){var o=i(this);return"function"==typeof e?o.sub(t,e,n):void o.pub(t,{target:this,data:e})}}var e=function(t){this.$events={},this.ctx=t},o="HybridEventHub"+Date.now(),i=function(t){return t[o]||(t[o]=new e(t))},c=e.prototype;c.sub=function(t,n,e){var o,i=this.ctx,c=this.$events[t],r=-1,a=!1,s=function(){o.splice(r,1),e.remove&&e.remove.call(i,t),!o.length&&e.teardown&&e.teardown.call(i,t)};return e=e||{},c?(o=c.callbacks,r=o.indexOf(n)):(this.$events[t]=c={},c.callbacks=o=[],c.options=e,a=!0),~r?void s():(r=o.push(n)-1,a&&e.setup&&e.setup.call(i,t),e.add&&e.add.call(i,t),function(){o?(s(),n=o=i=null):console.log("How come ama here?")})},c.pub=function(t,n){var e=this.$events[t].callbacks;e&&(e=e.slice(0),e.forEach(function(t){t.call(n.target,n)}))},t.HybridEvent=n}(window);